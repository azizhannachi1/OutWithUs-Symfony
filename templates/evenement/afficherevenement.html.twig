{% extends 'base.html.twig' %}

{% block title %}Hello EvenementController!{% endblock %}

{% block body %}
    <br><br><br><br><br><br>
    <section id="main-content">
    <section class="wrapper site-min-height">
        <h1>Liste des Evenements</h1>
        <button class="btn btn-success btn-icon-split" ><a href="{{ path('ajouterevenement')  }}"><span class="text" style="color: white">Ajouter </span></a></button>
        <p style="100px" > <input  id="myInput"  type="text" placeholder="search">

    <table class="table table-bordered" id="t"  width="100%" cellspacing="0">
        <thead>
        <tr>
            <th> PDF</th>
            <th> </th>
            <th> </th>
            <th> Nom Evenement </th>
            <th>Description Event </th>
            <th>Date Event</th>
            <th> PrixEvent</th>
            <th> image</th>
        </tr>
        </thead>

        <tbody>
        <tbody id="myTable">

        {% for i in tableevents %}
            <tr>


                <td>  <a href="{{ path('pdf',{'id': i.id}) }}">   <img   width="30" src="https://cdn-icons-png.flaticon.com/512/337/337946.png">  </a></td>

                <td><a href="{{ path('supprimerevenement',{'id': i.id}) }}"><img src="https://img.icons8.com/color/48/000000/trash--v2.png"/></a></td>
                <td>  <a href="{{ path('modifierevenement',{'id': i.id}) }}"  class="btn btn-info btn-icon-split">
                                            <span class="icon text-white-50">
                        <i class="fas fa-info-circle"></i>

                    </span>
                        <span class="text">Modifier</span>

                    </a></td>

                <td>{{ i.NomEvent }}</td>
                <td>{{ i.DescriptionEvent  }}</td>

                <td>{{(i.DateEvent).format('d/m/Y')}}</td>
                <td>{{ i.PrixEvent }}</td>
                <td><img src="{{ asset('uploads/'~ i.image ) }}" width="100"  /></td>

            </tr>
        {% endfor %}

        </tbody>
        </tbody>
        <tbody id="search">
        </tbody>

    </table>
        {{ knp_pagination_render(tableevents) }}
    </section>
    <!-- /wrapper -->
</section>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function(){
            $("#myInput").on("keyup", function() {
                var value = $(this).val().toLowerCase();
                $("#myTable tr").filter(function() {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });
    </script>
{% endblock %}
